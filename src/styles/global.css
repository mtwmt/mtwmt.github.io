@import url("https://fonts.googleapis.com/css?family=Dosis:300,400,500,600,700&display=swap");
@import "./tailwind.css";

@layer base {
  * {
    @apply box-border;
  }

  :root {
    /* ====================================
       Semantic Colors (語意化顏色變數)
       提升對比度至 WCAG AA 標準
       ==================================== */

    /* 文字顏色 */
    --color-default: #1f2937; /* 主文字 (gray-800) */
    --color-light: #6b7280; /* 次要文字 (gray-500) */
    --color-dark: #111827; /* 強調文字 (gray-900) */

    /* 背景顏色 */
    --color-background: #ffffff; /* 主背景 */
    --color-light-background: #f9fafb; /* 卡片背景 (gray-50) */

    /* 邊框顏色 */
    --color-border: #e5e7eb; /* 一般邊框 (gray-200) */
    --color-border-light: #f3f4f6; /* 淺邊框 (gray-100) */

    /* ====================================
       Comic Book Style Variables (漫畫風格)
       粗黑邊框 + 硬陰影偏移 + 高對比
       ==================================== */
    --comic-border-width: 2px;
    --comic-border-radius: 0.5rem; /* 8px */
    --comic-border-radius-sm: 0.25rem; /* 4px */
    --comic-border-radius-lg: 0.75rem; /* 12px */
    --comic-border-radius-xl: 1rem; /* 16px */

    /* Comic Book 硬陰影 - 偏移式，無模糊 */
    --comic-shadow: 4px 4px 0 rgba(0, 0, 0, 0.15);
    --comic-shadow-sm: 2px 2px 0 rgba(0, 0, 0, 0.12);
    --comic-shadow-lg: 6px 6px 0 rgba(0, 0, 0, 0.2);
    --comic-shadow-xl: 8px 8px 0 rgba(0, 0, 0, 0.25);

    /* Spacing */
    --spacing-xs: 0.25rem; /* 4px */
    --spacing-sm: 0.5rem; /* 8px */
    --spacing-md: 1rem; /* 16px */
    --spacing-lg: 1.5rem; /* 24px */
    --spacing-xl: 2rem; /* 32px */
    --spacing-2xl: 3rem; /* 48px */
  }

  :root.dark {
    /* ====================================
       Dark Mode Color Overrides
       優化暗黑模式對比度
       ==================================== */

    /* 文字顏色 */
    --color-default: #f9fafb; /* 主文字 (gray-50) */
    --color-light: #9ca3af; /* 次要文字 (gray-400) */
    --color-dark: #ffffff; /* 強調文字 */

    /* 背景顏色 */
    --color-background: #111827; /* 主背景 (gray-900) */
    --color-light-background: #1f2937; /* 卡片背景 (gray-800) */

    /* 邊框顏色 */
    --color-border: #374151; /* 一般邊框 (gray-700) */
    --color-border-light: #4b5563; /* 淺邊框 (gray-600) */

    /* Primary colors for dark mode */
    --color-primary-50: #b3ebeb; /* 淺色文字 */
    --color-primary-100: #80dddd;
    --color-primary-200: #4dd0d0;
    --color-primary-300: #26c5c5;
    --color-primary-400: #00b8b8;
    --color-primary-500: #007272; /* Logo 區塊深 Teal */
    --color-primary-600: #009393;
    --color-primary-700: #00a0a0;
    --color-primary-800: #006666; /* TOC 側邊欄深 Teal */
    --color-primary-900: #005252;
    --color-primary-950: #004040;

    /* Comic Book 硬陰影 for dark mode (白色陰影) */
    --comic-shadow: 4px 4px 0 rgba(255, 255, 255, 0.15);
    --comic-shadow-sm: 2px 2px 0 rgba(255, 255, 255, 0.12);
    --comic-shadow-lg: 6px 6px 0 rgba(255, 255, 255, 0.2);
    --comic-shadow-xl: 8px 8px 0 rgba(255, 255, 255, 0.25);
  }

  html,
  body {
    @apply relative m-0 h-full w-full p-0;
    scroll-behavior: smooth;
  }

  html.dark,
  body.dark {
    color-scheme: dark;
  }
}

@layer components {
  input,
  textarea,
  select {
    -webkit-appearance: none;
    -moz-appearance: none;
  }

  a {
    @apply transition duration-300 hover:opacity-70;
  }

  .animation {
    @apply transition duration-300 ease-in-out;
  }
}

@layer utilities {
  /* ========================================
     🎨 Comic Book 風格核心樣式系統
     特色：粗黑邊框 + 硬陰影偏移 + 高對比
     ======================================== */

  /* Comic Book 硬陰影 - 偏移式，無模糊 */
  .comic-shadow {
    box-shadow: var(--comic-shadow);
  }

  .comic-shadow-sm {
    box-shadow: var(--comic-shadow-sm);
  }

  .comic-shadow-lg {
    box-shadow: var(--comic-shadow-lg);
  }

  .comic-shadow-xl {
    box-shadow: var(--comic-shadow-xl);
  }

  /* Comic 粗邊框（模擬漫畫分格框）*/
  .comic-border {
    @apply border-2 border-gray-900 dark:border-gray-200;
  }

  .comic-border-thick {
    @apply border-[3px] border-gray-900 dark:border-gray-200;
  }

  /* Comic Book 風按鈕 */
  .btn {
    @apply relative inline-block font-bold tracking-wide
    border-2
    rounded-md
    transition-all duration-200 ease-out;
    box-shadow: var(--comic-shadow);
  }

  .btn:hover:not(:disabled) {
    @apply translate-y-1;
    box-shadow: var(--comic-shadow-sm);
  }

  .btn:active:not(:disabled) {
    @apply translate-y-1;
    box-shadow: var(--comic-shadow-sm);
  }

  .btn--active {
    @apply translate-y-1;
    box-shadow: var(--comic-shadow-sm);
  }

  .btn.disabled {
    @apply cursor-not-allowed bg-gray-400 dark:bg-gray-600 border-gray-500 dark:border-gray-500 text-gray-200 dark:text-gray-400;
    opacity: 0.7;
  }

  /* Comic Book 風卡片 */
  .comic-card {
    @apply bg-white dark:bg-gray-800 border-2 border-gray-900 dark:border-gray-200
    transition-all duration-200 rounded-md;
    position: relative;
    box-shadow: var(--comic-shadow);
  }

  .comic-card:hover {
    @apply -translate-y-1;
    box-shadow: var(--comic-shadow-lg);
  }

  @keyframes star-twinkle {
    0%,
    100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.1);
    }
  }

  .absolute-center {
    @apply absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2;
  }
}

/* Custom utilities defined outside @layer to allow @apply usage */
.text-default {
  color: var(--color-default);
}
.text-light {
  color: var(--color-light);
}
.text-dark {
  color: var(--color-dark);
}

.bg-default {
  background-color: var(--color-background);
}
.bg-light {
  background-color: var(--color-light-background);
}

.border-default {
  border-color: var(--color-border);
}

/* Blog post styles */
[data-blog-toc] .active {
  background-color: var(--color-primary-500);
  opacity: 0.7;
}

.post {
  @apply text-base;
  color: var(--color-default);
}

.post h1 {
  @apply my-4 text-3xl;
  color: var(--color-default);
}

.post h2 {
  @apply mt-10 text-2xl font-bold;
  color: var(--color-default);
}

.post h3 {
  @apply mt-10 mb-2 text-xl font-bold;
  color: var(--color-default);
}

.post p {
  @apply my-4 leading-loose whitespace-pre-line;
}

.post pre {
  @apply my-4 p-4 rounded-md;
}

.post img {
  @apply my-4 mx-auto;
}

.post hr {
  @apply my-8;
  border-color: var(--color-border);
}

.post iframe {
  @apply mt-4 mb-2 mx-auto h-80 max-w-full min-h-full w-full min-h-[128px];
}

.post iframe + p > em {
  @apply text-sm;
}

.post blockquote {
  @apply my-8 px-5 border-l-4 border-gray-200 border-solid;
  color: var(--color-dark);
}

.post ol {
  @apply list-decimal ml-5 my-4;
}

.post ul {
  @apply list-disc ml-5 my-4;
}

.post ol li:not(:last-of-type),
.post ul li:not(:last-of-type) {
  @apply mb-2;
}

.post :not(pre) > code {
  @apply mx-1 px-1 bg-orange-50 text-orange-700 rounded break-words dark:bg-orange-900 dark:text-orange-50;
}

.post a {
  @apply text-primary-700 transition duration-300 ease-in-out
   hover:text-primary-700/70 dark:text-primary-200;
}

.post table {
  @apply my-4 w-full border-collapse;
}

.post table th {
  @apply text-white;
  background-color: var(--color-light-background);
}

.post table th,
.post table td {
  @apply py-2 px-2 leading-tight border border-solid;
  border-color: var(--color-border);
}

.post .copy-code {
  @apply absolute top-0 right-0  text-white rounded-sm bg-primary-800 transition duration-300 hover:bg-primary-900 px-2 py-1 text-xs cursor-pointer;
}

/*
  The CSS in this style tag is based off of Bear Blog's default CSS.
  https://github.com/HermanMartinus/bearblog/blob/297026a877bc2ab2b3bdfbd6b9f7961c350917dd/templates/styles/blog/default.css
  License MIT: https://github.com/HermanMartinus/bearblog/blob/master/LICENSE.md
 */
/* body {
  font-family: Verdana, sans-serif;
  margin: auto;
  padding: 20px;
  max-width: 65ch;
  text-align: left;
  background-color: #fff;
  word-wrap: break-word;
  overflow-wrap: break-word;
  line-height: 1.5;
  color: #444;
}
h1,
h2,
h3,
h4,
h5,
h6,
strong,
b {
  color: #222;
}
a {
  color: #3273dc;
}
nav a {
  margin-right: 10px;
}
textarea {
  width: 100%;
  font-size: 16px;
}
input {
  font-size: 16px;
}
content {
  line-height: 1.6;
}
table {
  width: 100%;
}
img {
  max-width: 100%;
  height: auto;
}
code {
  padding: 2px 5px;
  background-color: #f2f2f2;
}
pre {
  padding: 1rem;
}
pre > code {
  all: unset;
}
blockquote {
  border: 1px solid #999;
  color: #222;
  padding: 2px 0px 2px 20px;
  margin: 0px;
  font-style: italic;
} */
